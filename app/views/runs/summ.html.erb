<% months = @runs.select("distinct DATE_TRUNC('month', rundate) AS month")
   months.each do |m|%>
   <strong><font size=3><%= m.month.strftime("%B %Y") %></font></strong></br>
      <% @users.each do |u|%>
		 <strong><%= u.name %>: </strong>
		 <% miles = @runs.select("DATE_TRUNC('month', rundate) AS month, user_id, COALESCE(sum(distance),0) as miles").where("DATE_TRUNC('month', rundate) = (?) and user_id = (?)", m.month, u.id).group("DATE_TRUNC('month', rundate), user_id")
		 miles.each do |x|%>
			 <%= x.miles %></br>
		 <% end %>
	  <% end %>
	  </br>
<% end %>

